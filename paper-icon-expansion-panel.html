<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-collapse/iron-collapse.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../paper-styles/paper-styles.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="paper-expansion-panel-behavior.html">

<!--
A Material Design [expansion panel with header and collapsible content](https://material.google.com/components/expansion-panels.html)

### Example

```html
<paper-icon-expansion-panel header="Panel" summary="With event" on-toggle="onToggle">
  Lots of very interesting content.
</paper-icon-expansion-panel>
```

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
--paper-expansion-panel-header|Mixin applied to the header of the panel|{}
--paper-expansion-panel-summary|Mixin applied to the summary of the panel|{}
--paper-expansion-panel-content|Mixin applied to collapsible content|{}

@demo demo/index.html
-->
<dom-module id="paper-icon-expansion-panel">

	<template>

		<style>
			:host {
				display:block;
			}
			
			.header {
				min-height: 48px;
				color: var(--primary-text-color);
				@apply --layout-center;
				@apply --layout-justified;
				@apply --paper-font-subhead;

				padding-left: 24px;
				padding-right: 24px;

				@apply --paper-expansion-panel-header;
			}

			:host([opened]) .header {
				min-height: 64px;
			}

			.toggle {
				color: var(--disabled-text-color);
			}

			.content {
				margin-left: 24px;
				margin-right: 24px;
				@apply --paper-font-body1;
				@apply --paper-expansion-panel-content;
			}

			.summary {
				@apply --paper-expansion-panel-summary;
				color: var(--secondary-text-color);
			}

			.flex {
				@apply --layout-flex;
			}

			::slotted([slot=header]) {
                display:flex;
                overflow:hidden;
                flex-grow: 1;
            }
		</style>

		<paper-icon-item class="header">
            <template is="dom-if" if="[[icon]]">
                <iron-icon icon="[[icon]]" slot="icon-item"></iron-icon>
            </template>

            <template is="dom-if" if="[[!icon]]">
				<slot slot="item-icon" name="item-icon"></slot>
            </template>

			<template is="dom-if" if="[[header]]">
				<div class="flex">[[header]]</div>

				<template is="dom-if" if="[[summary]]">
					<div hidden$="[[opened]]" class="flex summary">[[summary]]</div>
				</template>
			</template>

			<template is="dom-if" if="[[!header]]">
				<slot name="header"><div class="flex">&nbsp;</div></slot>
			</template>
			
			<paper-icon-button class="toggle" icon="[[_toggleIcon]]" on-tap="_toggleOpened"></paper-icon-button>
		</paper-icon-item>
		<iron-collapse class="content" opened="{{opened}}">
			<slot></slot>
		</iron-collapse>

	</template>
</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-icon-expansion-panel',
        behaviors: [Polymer.PaperExpansionPanelBehavior],
        
        properties: {
            icon: {
                type: String,
				value: null
            }
        }
	});

})();

</script>
